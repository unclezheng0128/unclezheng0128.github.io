(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-652c92e6"],{5326:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"zv-login"},[e._m(0),r("div",{staticClass:"zv-login-content"},[e._m(1),r("div",{staticClass:"zv-login-right"},[r("div",{staticClass:"zv-login-title"},[e._v("用户登录")]),r("div",{staticClass:"zv-login-form",on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.submitForm("loginForm")}}},[r("div",{staticClass:"zv-login-form-title"},[e._v("账号登录")]),r("el-form",{ref:"loginForm",attrs:{model:e.loginForm,"status-icon":"",rules:e.loginRules}},[r("el-form-item",{staticClass:"zv-login-form-item",attrs:{prop:"loginName"}},[r("el-input",{staticClass:"zv-login-form-input",attrs:{placeholder:"请输入用户名"},model:{value:e.loginForm.loginName,callback:function(t){e.$set(e.loginForm,"loginName","string"===typeof t?t.trim():t)},expression:"loginForm.loginName"}}),r("i",{staticClass:"zv-icon-login-user2 zv-login-form-icon"})],1),r("el-form-item",{staticClass:"zv-login-form-item",attrs:{prop:"userPwd"}},[r("el-input",{staticClass:"zv-login-form-input",attrs:{type:"password",autocomplete:"off","show-password":"",placeholder:"请输入密码"},model:{value:e.loginForm.userPwd,callback:function(t){e.$set(e.loginForm,"userPwd","string"===typeof t?t.trim():t)},expression:"loginForm.userPwd"}}),r("i",{staticClass:"zv-icon-login-password zv-login-form-icon"})],1),r("el-form-item",[r("el-button",{staticStyle:{width:"100%","margin-top":"40px",height:"40px","font-size":"15px"},attrs:{type:"primary"},on:{click:function(t){e.submitForm("loginForm")}}},[e._v("登录")])],1)],1),e._m(2)],1)])]),e.modifyPwdDialog?[r("zv-dialog",{attrs:{title:"修改密码","modal-append-to-body":!1,showDialog:e.modifyPwdDialog,width:"400px"},on:{"update:showDialog":function(t){e.modifyPwdDialog=t}}},[r("div",{attrs:{slot:"content"},slot:"content"},[r("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rules,"label-width":"140px"}},[r("el-form-item",{attrs:{label:"原密码：",prop:"userPwd"}},[r("el-input",{attrs:{type:"password",placeholder:"请输入原密码"},model:{value:e.form.userPwd,callback:function(t){e.$set(e.form,"userPwd","string"===typeof t?t.trim():t)},expression:"form.userPwd"}})],1),r("el-form-item",{attrs:{label:"新密码：",prop:"userPwd1"}},[r("el-input",{attrs:{type:"password",placeholder:"请输入新密码"},model:{value:e.form.userPwd1,callback:function(t){e.$set(e.form,"userPwd1","string"===typeof t?t.trim():t)},expression:"form.userPwd1"}})],1),r("el-form-item",{attrs:{label:"确认新密码：",prop:"confirmpwd"}},[r("el-input",{attrs:{type:"password",placeholder:"请确认新密码"},model:{value:e.form.confirmpwd,callback:function(t){e.$set(e.form,"confirmpwd","string"===typeof t?t.trim():t)},expression:"form.confirmpwd"}})],1)],1)],1),r("div",{attrs:{slot:"btns"},slot:"btns"},[r("el-button",{on:{click:function(t){e.modifyPwdDialog=!1}}},[e._v("取消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.modifyPwd}},[e._v("保存")])],1)])]:e._e()],2)},o=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"zv-login-header"},[r("div",{staticClass:"zv-login-logo"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"zv-login-left"},[r("div",{staticClass:"zv-login-left-copyright"},[e._v("\n        Copyright © 2019 有限公司 All rights\n        reserved.\n      ")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"zv-login-form-tips",staticStyle:{color:"#2a64c7","line-height":"1.4em"}},[r("span",{staticStyle:{color:"#8B8B8B"}},[e._v("为了更好的用户体验，我们建议您使用")]),e._v("IE11及以上或Chrome浏览器\n        ")])}],s=(r("96cf"),r("1da1")),n=r("be94"),l=r("2f62"),a=r("c91a"),u=r("265a"),m=r("153e"),c=(r("5758"),{name:"Login",data:function(){var e=this,t=function(t,r,i){""===r?i(new Error("请再次输入密码")):r!==e.form.userPwd1?i(new Error("两次输入密码不一致!")):i()};return{redirectUrl:"",loginForm:{loginName:"",userPwd:""},loginRules:{loginName:[{required:!0,message:"请输入工号",trigger:"blur"}],userPwd:[{required:!0,message:"请输入密码",trigger:"blur"}]},modifyPwdDialog:!1,form:{userPwd:"",userPwd1:"",confirmpwd:""},rules:{userPwd:{required:!0,message:"请输入原密码",trigger:"blur"},userPwd1:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:8,message:"密码长度不小于8位",trigger:"blur"},{pattern:/(?=.*[a-z])(?=.*\d)(?=.*[#@!~%^&*])[a-z\d#@!~%^&*]+/i,message:"需字母、数字、特殊字符的组合",trigger:"blur"}],confirmpwd:[{required:!0,validator:t,trigger:"blur"}],loginName:[{required:!0,message:"请输入用户名或者手机",trigger:"blur"}]}}},methods:Object(n["a"])({},Object(l["d"])(["SET_LOGIN"]),Object(l["b"])(["setLogin","setCompanyList"]),Object(l["b"])("userInfo",["setUserInfo"]),Object(l["b"])(["delAllViews"]),{toUrl:function(e,t){this.$router.push({name:e,params:t})},submitForm:function(e){var t=this,r=this;r.$refs[e].validate(function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(i){var o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:i&&(t.$_.cloneDeep({jobNumber:r.loginForm.loginName,idCardSuffix:r.loginForm.userPwd}),o={token:"1234555666",userName:"测试账号"},r.delAllViews(),a["a"].setToken(o.token),t.setUserInfo(o),u["a"].setUserInfo(o),r.setLogin(!0),m["a"].notify({message:"登录成功！",type:"success",title:"登录成功"}),r.$router.push("/"));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}())},showDialog:function(){for(var e in this.form)this.form[e]="";this.modifyPwdDialog=!0},modifyPwd:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t,r,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.form.validate();case 2:return t=this.$_.cloneDeep(this.form),t.userPwd=this.$md5(t.userPwd),t.userPwd1=this.$md5(t.userPwd1),delete t.confirmpwd,e.next=8,this.$put("/user/v1/modifypwd",t);case 8:r=e.sent,i=r.data,m["a"].message({message:i.data,type:"success"}),this.modifyPwdDialog=!1;case 12:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}),mounted:function(){this.redirectUrl=this.$route.query.redirect||""}}),d=c,f=(r("cc62"),r("2877")),g=Object(f["a"])(d,i,o,!1,null,null,null);t["default"]=g.exports},6029:function(e,t,r){},cc62:function(e,t,r){"use strict";var i=r("6029"),o=r.n(i);o.a}}]);